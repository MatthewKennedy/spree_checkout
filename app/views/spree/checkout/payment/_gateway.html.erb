<div id="payment-method-container-<%= payment_method.id %>" class="accordion-collapse collapse" data-bs-parent="#payment-methods">
  <div class="payment-gateway-fields bg-light border-top p-3">
    <% param_prefix = "payment_source[#{payment_method.id}]" %>
    <% options_hash = Rails.env.production? ? {autocomplete: 'off'} : {} %>

    <div class="row">
      <div class="col-12">
        <div class="form-floating mb-3">
          <%= text_field_tag "#{param_prefix}[name]", "#{@order.bill_address_firstname} #{@order.bill_address_lastname}",
                                                      { id: "name_on_card",
                                                        class: 'form-control',
                                                        placeholder: Spree.t(:name_on_card),
                                                        disabled: true,
                                                        data: {controller: 'input--disable-enable'}
                                                      } %>

          <%= label_tag Spree.t(:name_on_card) %>
        </div>
      </div>

      <div class="col-12">
        <div class="form-floating mb-3">
          <%= text_field_tag "#{param_prefix}[number]", '',
                              options_hash.merge(
                                id: 'card_number',
                                class: 'form-control',
                                size: 19,
                                maxlength: 19,
                                autocomplete: "off",
                                placeholder: Spree.t(:card_number),
                                disabled: true,
                                data: {controller: 'input--disable-enable'}
                              ) %>

          <%= label_tag Spree.t(:card_number) %>
        </div>

        <span id="card_type" style="display:none;">
            ( <span id="looks_like"><%= Spree.t(:card_type_is) %> <span id="type"></span></span>
              <span id="unrecognized"><%= Spree.t(:unrecognized_card_type) %></span>
            )
          </span><span id="card_type" style="display:none;">
            ( <span id="looks_like"><%= Spree.t(:card_type_is) %> <span id="type"></span></span>
              <span id="unrecognized"><%= Spree.t(:unrecognized_card_type) %></span>
            )
        </span>
      </div>

      <div class="col-6">
        <div class="form-floating mb-3">
          <%= text_field_tag "#{param_prefix}[expiry]", '',
                                                    id: 'card_expiry',
                                                    class: 'form-control',
                                                    placeholder: "MM/YYYY",
                                                    disabled: true,
                                                    data: {controller: 'input--disable-enable'} %>
          <%= label_tag "MM/YYYY" %>
        </div>
      </div>

      <div class="col-6">
        <div class="form-floating mb-3">
          <%= text_field_tag "#{param_prefix}[verification_value]", '',
                              options_hash.merge(
                                id: 'card_code',
                                class: 'form-control',
                                placeholder: Spree.t(:cvv),
                                disabled: true,
                                data: {controller: 'input--disable-enable'}
                              ) %>

          <%= label_tag Spree.t(:cvv) %>
        </div>
      </div>
      <%= hidden_field_tag "#{param_prefix}[cc_type]", '',
                                                      id: "cc_type",
                                                      class: 'ccType',
                                                      disabled: true,
                                                      data: {controller: 'input--disable-enable'} %>
    </div>
  </div>
</div>
